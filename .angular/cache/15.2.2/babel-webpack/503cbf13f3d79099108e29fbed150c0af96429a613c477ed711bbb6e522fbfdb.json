{"ast":null,"code":"import _asyncToGenerator from \"E:/work/pigallery2/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { NetworkService } from '../../model/network/network.service';\nimport { BehaviorSubject } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../model/network/network.service\";\nexport let FacesService = /*#__PURE__*/(() => {\n  class FacesService {\n    constructor(networkService) {\n      this.networkService = networkService;\n      this.persons = new BehaviorSubject([]);\n    }\n    setFavourite(person, isFavourite) {\n      var _this = this;\n      return _asyncToGenerator(function* () {\n        const updated = yield _this.networkService.postJson('/person/' + person.name, {\n          isFavourite\n        });\n        const updatesList = _this.persons.getValue();\n        for (let i = 0; i < updatesList.length; i++) {\n          if (updatesList[i].id === updated.id) {\n            updatesList[i] = updated;\n            _this.persons.next(updatesList);\n            return;\n          }\n        }\n      })();\n    }\n    getPersons() {\n      var _this2 = this;\n      return _asyncToGenerator(function* () {\n        _this2.persons.next((yield _this2.networkService.getJson('/person')).sort((a, b) => a.name.localeCompare(b.name)));\n      })();\n    }\n  }\n  FacesService.ɵfac = function FacesService_Factory(t) {\n    return new (t || FacesService)(i0.ɵɵinject(i1.NetworkService));\n  };\n  FacesService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: FacesService,\n    factory: FacesService.ɵfac\n  });\n  return FacesService;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}