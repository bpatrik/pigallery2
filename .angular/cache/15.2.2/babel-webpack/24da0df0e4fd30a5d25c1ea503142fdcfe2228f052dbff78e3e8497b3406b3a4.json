{"ast":null,"code":"import { forwardRef, QueryList } from '@angular/core';\nimport { JobScheduleDTOUtils, JobTriggerType } from '../../../../../common/entities/job/JobScheduleDTO';\nimport { ScheduledJobsService } from '../scheduled-jobs.service';\nimport { BackendtextService } from '../../../model/backendtext.service';\nimport { SettingsService } from '../settings.service';\nimport { JobProgressStates } from '../../../../../common/entities/job/JobProgressDTO';\nimport { AfterJobTriggerConfig, JobScheduleConfig, NeverJobTriggerConfig, PeriodicJobTriggerConfig, ScheduledJobTriggerConfig } from '../../../../../common/config/private/PrivateConfig';\nimport { NG_VALIDATORS, NG_VALUE_ACCESSOR, ValidationErrors } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../settings.service\";\nimport * as i2 from \"../scheduled-jobs.service\";\nimport * as i3 from \"../../../model/backendtext.service\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/forms\";\nimport * as i6 from \"ngx-bootstrap/modal\";\nimport * as i7 from \"../../utils/timestamp-datepicker/datepicker.component\";\nimport * as i8 from \"../../utils/timestamp-timepicker/timepicker.component\";\nimport * as i9 from \"./progress/job-progress.settings.component\";\nimport * as i10 from \"./button/job-button.settings.component\";\nconst _c0 = [\"jobModal\"];\nfunction WorkflowComponent_div_4_ng_container_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"span\", 54);\n    i0.ɵɵi18n(2, 55);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3);\n    i0.ɵɵpipe(4, \"date\");\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const schedule_r4 = i0.ɵɵnextContext().$implicit;\n    const ctx_r7 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate2(\" \", ctx_r7.periods[schedule_r4.trigger.periodicity], \" \", i0.ɵɵpipeBind2(4, 2, ctx_r7.atTimeLocal(schedule_r4.trigger.atTime), \"HH:mm (z)\"), \" \");\n  }\n}\nfunction WorkflowComponent_div_4_ng_container_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"date\");\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const schedule_r4 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"@\", i0.ɵɵpipeBind2(2, 1, schedule_r4.trigger.time, \"medium\"), \"\");\n  }\n}\nfunction WorkflowComponent_div_4_span_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 56);\n    i0.ɵɵi18n(1, 57);\n    i0.ɵɵelementEnd();\n  }\n}\nfunction WorkflowComponent_div_4_ng_container_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"span\", 54);\n    i0.ɵɵi18n(2, 58);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const schedule_r4 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", schedule_r4.trigger.afterScheduleName, \" \");\n  }\n}\nfunction WorkflowComponent_div_4_option_31_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 59);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const jobTrigger_r20 = ctx.$implicit;\n    i0.ɵɵproperty(\"ngValue\", jobTrigger_r20.key);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"\", jobTrigger_r20.value, \" \");\n  }\n}\nfunction WorkflowComponent_div_4_div_34_ng_container_5_option_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 59);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const sch_r22 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵproperty(\"ngValue\", sch_r22.name);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"\", sch_r22.name, \" \");\n  }\n}\nfunction WorkflowComponent_div_4_div_34_ng_container_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, WorkflowComponent_div_4_div_34_ng_container_5_option_1_Template, 2, 2, \"option\", 62);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const sch_r22 = ctx.$implicit;\n    const schedule_r4 = i0.ɵɵnextContext(2).$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", sch_r22.name !== schedule_r4.name);\n  }\n}\nfunction WorkflowComponent_div_4_div_34_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r28 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 46)(1, \"label\", 36);\n    i0.ɵɵi18n(2, 60);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 42)(4, \"select\", 43);\n    i0.ɵɵlistener(\"ngModelChange\", function WorkflowComponent_div_4_div_34_Template_select_ngModelChange_4_listener($event) {\n      i0.ɵɵrestoreView(_r28);\n      const schedule_r4 = i0.ɵɵnextContext().$implicit;\n      return i0.ɵɵresetView(schedule_r4.trigger.afterScheduleName = $event);\n    })(\"ngModelChange\", function WorkflowComponent_div_4_div_34_Template_select_ngModelChange_4_listener($event) {\n      i0.ɵɵrestoreView(_r28);\n      const ctx_r29 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r29.onChange($event));\n    });\n    i0.ɵɵtemplate(5, WorkflowComponent_div_4_div_34_ng_container_5_Template, 2, 1, \"ng-container\", 1);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"small\", 16);\n    i0.ɵɵi18n(7, 61);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r30 = i0.ɵɵnextContext();\n    const i_r6 = ctx_r30.index;\n    const schedule_r4 = ctx_r30.$implicit;\n    const sortedSchedules_r5 = ctx_r30.ngForOf;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"for\", \"triggerAfter\" + i_r6);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngModel\", schedule_r4.trigger.afterScheduleName)(\"name\", \"triggerAfter\" + i_r6);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", sortedSchedules_r5);\n  }\n}\nfunction WorkflowComponent_div_4_div_35_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r32 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 46)(1, \"label\", 36);\n    i0.ɵɵi18n(2, 63);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 42)(4, \"app-timestamp-datepicker\", 64);\n    i0.ɵɵlistener(\"timestampChange\", function WorkflowComponent_div_4_div_35_Template_app_timestamp_datepicker_timestampChange_4_listener($event) {\n      i0.ɵɵrestoreView(_r32);\n      const ctx_r31 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r31.onChange($event));\n    })(\"timestampChange\", function WorkflowComponent_div_4_div_35_Template_app_timestamp_datepicker_timestampChange_4_listener($event) {\n      i0.ɵɵrestoreView(_r32);\n      const schedule_r4 = i0.ɵɵnextContext().$implicit;\n      return i0.ɵɵresetView(schedule_r4.trigger.time = $event);\n    });\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r35 = i0.ɵɵnextContext();\n    const i_r6 = ctx_r35.index;\n    const schedule_r4 = ctx_r35.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"for\", \"triggerTime\" + i_r6);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"name\", \"triggerTime\" + i_r6)(\"timestamp\", schedule_r4.trigger.time);\n  }\n}\nfunction WorkflowComponent_div_4_div_36_option_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 59);\n    i0.ɵɵelementContainerStart(1);\n    i0.ɵɵi18n(2, 66);\n    i0.ɵɵelementContainerEnd();\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const period_r37 = ctx.$implicit;\n    const i_r38 = ctx.index;\n    i0.ɵɵproperty(\"ngValue\", i_r38);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", period_r37, \" \");\n  }\n}\nfunction WorkflowComponent_div_4_div_36_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r41 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 46)(1, \"label\", 36);\n    i0.ɵɵi18n(2, 65);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 42)(4, \"select\", 43);\n    i0.ɵɵlistener(\"ngModelChange\", function WorkflowComponent_div_4_div_36_Template_select_ngModelChange_4_listener($event) {\n      i0.ɵɵrestoreView(_r41);\n      const schedule_r4 = i0.ɵɵnextContext().$implicit;\n      return i0.ɵɵresetView(schedule_r4.trigger.periodicity = $event);\n    })(\"ngModelChange\", function WorkflowComponent_div_4_div_36_Template_select_ngModelChange_4_listener($event) {\n      i0.ɵɵrestoreView(_r41);\n      const ctx_r42 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r42.onChange($event));\n    });\n    i0.ɵɵtemplate(5, WorkflowComponent_div_4_div_36_option_5_Template, 4, 2, \"option\", 15);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"app-timestamp-timepicker\", 64);\n    i0.ɵɵlistener(\"timestampChange\", function WorkflowComponent_div_4_div_36_Template_app_timestamp_timepicker_timestampChange_6_listener($event) {\n      i0.ɵɵrestoreView(_r41);\n      const ctx_r43 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r43.onChange($event));\n    })(\"timestampChange\", function WorkflowComponent_div_4_div_36_Template_app_timestamp_timepicker_timestampChange_6_listener($event) {\n      i0.ɵɵrestoreView(_r41);\n      const schedule_r4 = i0.ɵɵnextContext().$implicit;\n      return i0.ɵɵresetView(schedule_r4.trigger.atTime = $event);\n    });\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r46 = i0.ɵɵnextContext();\n    const i_r6 = ctx_r46.index;\n    const schedule_r4 = ctx_r46.$implicit;\n    const ctx_r14 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"for\", \"periodicity\" + i_r6);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngModel\", schedule_r4.trigger.periodicity)(\"name\", \"periodicity\" + i_r6);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r14.periods);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"name\", \"atTime\" + i_r6)(\"timestamp\", schedule_r4.trigger.atTime);\n  }\n}\nfunction WorkflowComponent_div_4_ng_container_46_div_2_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r55 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 49)(1, \"input\", 50);\n    i0.ɵɵlistener(\"ngModelChange\", function WorkflowComponent_div_4_ng_container_46_div_2_div_7_Template_input_ngModelChange_1_listener($event) {\n      i0.ɵɵrestoreView(_r55);\n      const ctx_r54 = i0.ɵɵnextContext(4);\n      return i0.ɵɵresetView(ctx_r54.onChange($event));\n    })(\"ngModelChange\", function WorkflowComponent_div_4_ng_container_46_div_2_div_7_Template_input_ngModelChange_1_listener($event) {\n      i0.ɵɵrestoreView(_r55);\n      const configEntry_r48 = i0.ɵɵnextContext().$implicit;\n      const schedule_r4 = i0.ɵɵnextContext(2).$implicit;\n      return i0.ɵɵresetView(schedule_r4.config[configEntry_r48.id] = $event);\n    });\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const configEntry_r48 = i0.ɵɵnextContext().$implicit;\n    const ctx_r60 = i0.ɵɵnextContext(2);\n    const i_r6 = ctx_r60.index;\n    const schedule_r4 = ctx_r60.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"name\", configEntry_r48.id + \"_\" + i_r6)(\"id\", configEntry_r48.id + \"_\" + i_r6)(\"ngModel\", schedule_r4.config[configEntry_r48.id]);\n  }\n}\nfunction WorkflowComponent_div_4_ng_container_46_div_2_ng_container_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r62 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"input\", 68);\n    i0.ɵɵlistener(\"ngModelChange\", function WorkflowComponent_div_4_ng_container_46_div_2_ng_container_8_Template_input_ngModelChange_1_listener($event) {\n      i0.ɵɵrestoreView(_r62);\n      const ctx_r61 = i0.ɵɵnextContext(4);\n      return i0.ɵɵresetView(ctx_r61.onChange($event));\n    })(\"ngModelChange\", function WorkflowComponent_div_4_ng_container_46_div_2_ng_container_8_Template_input_ngModelChange_1_listener($event) {\n      i0.ɵɵrestoreView(_r62);\n      const configEntry_r48 = i0.ɵɵnextContext().$implicit;\n      const schedule_r4 = i0.ɵɵnextContext(2).$implicit;\n      return i0.ɵɵresetView(schedule_r4.config[configEntry_r48.id] = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const configEntry_r48 = i0.ɵɵnextContext().$implicit;\n    const ctx_r67 = i0.ɵɵnextContext(2);\n    const i_r6 = ctx_r67.index;\n    const schedule_r4 = ctx_r67.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"name\", configEntry_r48.id + \"_\" + i_r6)(\"id\", configEntry_r48.id + \"_\" + i_r6)(\"ngModel\", schedule_r4.config[configEntry_r48.id]);\n  }\n}\nfunction WorkflowComponent_div_4_ng_container_46_div_2_ng_container_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r69 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"input\", 69);\n    i0.ɵɵlistener(\"ngModelChange\", function WorkflowComponent_div_4_ng_container_46_div_2_ng_container_9_Template_input_ngModelChange_1_listener($event) {\n      i0.ɵɵrestoreView(_r69);\n      const ctx_r68 = i0.ɵɵnextContext(4);\n      return i0.ɵɵresetView(ctx_r68.onChange($event));\n    })(\"ngModelChange\", function WorkflowComponent_div_4_ng_container_46_div_2_ng_container_9_Template_input_ngModelChange_1_listener($event) {\n      i0.ɵɵrestoreView(_r69);\n      const configEntry_r48 = i0.ɵɵnextContext().$implicit;\n      const schedule_r4 = i0.ɵɵnextContext(2).$implicit;\n      return i0.ɵɵresetView(schedule_r4.config[configEntry_r48.id] = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const configEntry_r48 = i0.ɵɵnextContext().$implicit;\n    const ctx_r74 = i0.ɵɵnextContext(2);\n    const i_r6 = ctx_r74.index;\n    const schedule_r4 = ctx_r74.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"name\", configEntry_r48.id + \"_\" + i_r6)(\"id\", configEntry_r48.id + \"_\" + i_r6)(\"ngModel\", schedule_r4.config[configEntry_r48.id]);\n  }\n}\nfunction WorkflowComponent_div_4_ng_container_46_div_2_ng_container_10_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r77 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"input\", 68);\n    i0.ɵɵlistener(\"ngModelChange\", function WorkflowComponent_div_4_ng_container_46_div_2_ng_container_10_Template_input_ngModelChange_1_listener($event) {\n      i0.ɵɵrestoreView(_r77);\n      const configEntry_r48 = i0.ɵɵnextContext().$implicit;\n      const schedule_r4 = i0.ɵɵnextContext(2).$implicit;\n      const ctx_r75 = i0.ɵɵnextContext();\n      ctx_r75.setNumberArray(schedule_r4.config, configEntry_r48.id, $event);\n      return i0.ɵɵresetView(ctx_r75.onChange($event));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const configEntry_r48 = i0.ɵɵnextContext().$implicit;\n    const ctx_r80 = i0.ɵɵnextContext(2);\n    const i_r6 = ctx_r80.index;\n    const schedule_r4 = ctx_r80.$implicit;\n    const ctx_r52 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"name\", configEntry_r48.id + \"_\" + i_r6)(\"id\", configEntry_r48.id + \"_\" + i_r6)(\"ngModel\", ctx_r52.getNumberArray(schedule_r4.config, configEntry_r48.id));\n  }\n}\nfunction WorkflowComponent_div_4_ng_container_46_div_2_ng_container_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵi18n(1, 70);\n    i0.ɵɵelementContainerEnd();\n  }\n}\nfunction WorkflowComponent_div_4_ng_container_46_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 46)(2, \"label\", 36);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 42)(5, \"div\", 48);\n    i0.ɵɵelementContainerStart(6, 26);\n    i0.ɵɵtemplate(7, WorkflowComponent_div_4_ng_container_46_div_2_div_7_Template, 2, 3, \"div\", 67);\n    i0.ɵɵtemplate(8, WorkflowComponent_div_4_ng_container_46_div_2_ng_container_8_Template, 2, 3, \"ng-container\", 27);\n    i0.ɵɵtemplate(9, WorkflowComponent_div_4_ng_container_46_div_2_ng_container_9_Template, 2, 3, \"ng-container\", 27);\n    i0.ɵɵtemplate(10, WorkflowComponent_div_4_ng_container_46_div_2_ng_container_10_Template, 2, 3, \"ng-container\", 27);\n    i0.ɵɵelementContainerEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"small\", 16);\n    i0.ɵɵtemplate(12, WorkflowComponent_div_4_ng_container_46_div_2_ng_container_12_Template, 2, 0, \"ng-container\", 52);\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const configEntry_r48 = ctx.$implicit;\n    const i_r6 = i0.ɵɵnextContext(2).index;\n    const ctx_r47 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"for\", configEntry_r48.id + \"_\" + i_r6);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r47.backendTextService.get(configEntry_r48.name));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngSwitch\", configEntry_r48.type);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitchCase\", \"boolean\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitchCase\", \"string\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitchCase\", \"number\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitchCase\", \"number-array\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", configEntry_r48.type == \"number-array\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r47.backendTextService.get(configEntry_r48.description), \" \");\n  }\n}\nfunction WorkflowComponent_div_4_ng_container_46_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelement(1, \"hr\");\n    i0.ɵɵtemplate(2, WorkflowComponent_div_4_ng_container_46_div_2_Template, 14, 9, \"div\", 1);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const schedule_r4 = i0.ɵɵnextContext().$implicit;\n    const ctx_r15 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r15.jobsService.getConfigTemplate(schedule_r4.jobName));\n  }\n}\nfunction WorkflowComponent_div_4_app_settings_job_progress_47_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-settings-job-progress\", 71);\n  }\n  if (rf & 2) {\n    const schedule_r4 = i0.ɵɵnextContext().$implicit;\n    const ctx_r16 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"progress\", ctx_r16.getProgress(schedule_r4));\n  }\n}\nfunction WorkflowComponent_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r85 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\")(2, \"div\", 23)(3, \"div\", 24)(4, \"div\", 25);\n    i0.ɵɵlistener(\"click\", function WorkflowComponent_div_4_Template_div_click_4_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r85);\n      const schedule_r4 = restoredCtx.$implicit;\n      const ctx_r84 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r84.showDetails[schedule_r4.name] = !ctx_r84.showDetails[schedule_r4.name]);\n    });\n    i0.ɵɵelement(5, \"span\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementContainerStart(7, 26);\n    i0.ɵɵtemplate(8, WorkflowComponent_div_4_ng_container_8_Template, 5, 5, \"ng-container\", 27);\n    i0.ɵɵtemplate(9, WorkflowComponent_div_4_ng_container_9_Template, 3, 4, \"ng-container\", 27);\n    i0.ɵɵtemplate(10, WorkflowComponent_div_4_span_10_Template, 2, 0, \"span\", 28);\n    i0.ɵɵtemplate(11, WorkflowComponent_div_4_ng_container_11_Template, 4, 1, \"ng-container\", 27);\n    i0.ɵɵelementContainerEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"div\")(13, \"button\", 29);\n    i0.ɵɵlistener(\"click\", function WorkflowComponent_div_4_Template_button_click_13_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r85);\n      const schedule_r4 = restoredCtx.$implicit;\n      const ctx_r86 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r86.remove(schedule_r4));\n    });\n    i0.ɵɵelement(14, \"span\", 30);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"app-settings-job-button\", 31);\n    i0.ɵɵlistener(\"jobError\", function WorkflowComponent_div_4_Template_app_settings_job_button_jobError_15_listener($event) {\n      i0.ɵɵrestoreView(_r85);\n      const ctx_r87 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r87.error = $event);\n    });\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(16, \"div\", 32)(17, \"div\", 33)(18, \"div\", 34)(19, \"div\", 35)(20, \"label\", 36);\n    i0.ɵɵi18n(21, 37);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"div\", 38);\n    i0.ɵɵtext(23);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(24, \"div\", 39)(25, \"app-settings-job-button\", 40);\n    i0.ɵɵlistener(\"jobError\", function WorkflowComponent_div_4_Template_app_settings_job_button_jobError_25_listener($event) {\n      i0.ɵɵrestoreView(_r85);\n      const ctx_r88 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r88.error = $event);\n    });\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(26, \"div\", 35)(27, \"label\", 36);\n    i0.ɵɵi18n(28, 41);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(29, \"div\", 42)(30, \"select\", 43);\n    i0.ɵɵlistener(\"ngModelChange\", function WorkflowComponent_div_4_Template_select_ngModelChange_30_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r85);\n      const schedule_r4 = restoredCtx.$implicit;\n      return i0.ɵɵresetView(schedule_r4.trigger.type = $event);\n    })(\"ngModelChange\", function WorkflowComponent_div_4_Template_select_ngModelChange_30_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r85);\n      const schedule_r4 = restoredCtx.$implicit;\n      const ctx_r90 = i0.ɵɵnextContext();\n      ctx_r90.jobTriggerTypeChanged($event, schedule_r4);\n      return i0.ɵɵresetView(ctx_r90.onChange($event));\n    });\n    i0.ɵɵtemplate(31, WorkflowComponent_div_4_option_31_Template, 2, 2, \"option\", 15);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(32, \"small\", 16);\n    i0.ɵɵi18n(33, 44);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵtemplate(34, WorkflowComponent_div_4_div_34_Template, 8, 4, \"div\", 45);\n    i0.ɵɵtemplate(35, WorkflowComponent_div_4_div_35_Template, 5, 3, \"div\", 45);\n    i0.ɵɵtemplate(36, WorkflowComponent_div_4_div_36_Template, 7, 6, \"div\", 45);\n    i0.ɵɵelementStart(37, \"div\", 46)(38, \"label\", 36);\n    i0.ɵɵi18n(39, 47);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(40, \"div\", 42)(41, \"div\", 48)(42, \"div\", 49)(43, \"input\", 50);\n    i0.ɵɵlistener(\"ngModelChange\", function WorkflowComponent_div_4_Template_input_ngModelChange_43_listener($event) {\n      i0.ɵɵrestoreView(_r85);\n      const ctx_r91 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r91.onChange($event));\n    })(\"ngModelChange\", function WorkflowComponent_div_4_Template_input_ngModelChange_43_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r85);\n      const schedule_r4 = restoredCtx.$implicit;\n      return i0.ɵɵresetView(schedule_r4.allowParallelRun = $event);\n    });\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(44, \"small\", 16);\n    i0.ɵɵi18n(45, 51);\n    i0.ɵɵelementEnd()()()()();\n    i0.ɵɵtemplate(46, WorkflowComponent_div_4_ng_container_46_Template, 3, 1, \"ng-container\", 52);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(47, WorkflowComponent_div_4_app_settings_job_progress_47_Template, 1, 1, \"app-settings-job-progress\", 53);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const schedule_r4 = ctx.$implicit;\n    const sortedSchedules_r5 = ctx.ngForOf;\n    const i_r6 = ctx.index;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵclassMapInterpolate1(\"card bg-body-tertiary mt-2 mb-2  no-changed-settings \", ctx_r0.shouldIdent(schedule_r4, sortedSchedules_r5[i_r6 - 1]) ? \"ms-4\" : \"\", \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵclassMapInterpolate1(\"oi oi-chevron-\", ctx_r0.showDetails[schedule_r4.name] ? \"bottom\" : \"right\", \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", schedule_r4.name, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitch\", schedule_r4.trigger.type);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitchCase\", ctx_r0.JobTriggerType.periodic);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitchCase\", ctx_r0.JobTriggerType.scheduled);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitchCase\", ctx_r0.JobTriggerType.never);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitchCase\", ctx_r0.JobTriggerType.after);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"allowParallelRun\", schedule_r4.allowParallelRun)(\"jobName\", schedule_r4.jobName)(\"config\", schedule_r4.config)(\"shortName\", true);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"hidden\", !ctx_r0.showDetails[schedule_r4.name]);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"for\", \"jobName\" + i_r6);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.backendTextService.getJobName(schedule_r4.jobName), \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"jobName\", schedule_r4.jobName)(\"allowParallelRun\", schedule_r4.allowParallelRun)(\"config\", schedule_r4.config);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"for\", \"repeatType\" + i_r6);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngModel\", schedule_r4.trigger.type)(\"name\", \"repeatType\" + i_r6);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.JobTriggerTypeMap);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", schedule_r4.trigger.type == ctx_r0.JobTriggerType.after);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", schedule_r4.trigger.type == ctx_r0.JobTriggerType.scheduled);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", schedule_r4.trigger.type == ctx_r0.JobTriggerType.periodic);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"for\", \"allowParallelRun\" + \"_\" + i_r6);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"name\", \"allowParallelRun\" + \"_\" + i_r6)(\"id\", \"allowParallelRun\" + \"_\" + i_r6)(\"ngModel\", schedule_r4.allowParallelRun);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.jobsService.getConfigTemplate(schedule_r4.jobName));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.getProgress(schedule_r4));\n  }\n}\nfunction WorkflowComponent_option_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 59);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const availableJob_r93 = ctx.$implicit;\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"ngValue\", availableJob_r93.Name);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r3.backendTextService.getJobName(availableJob_r93.Name), \" \");\n  }\n}\nexport let WorkflowComponent = /*#__PURE__*/(() => {\n  class WorkflowComponent {\n    constructor(settingsService, jobsService, backendTextService) {\n      this.settingsService = settingsService;\n      this.jobsService = jobsService;\n      this.backendTextService = backendTextService;\n      this.schedules = [];\n      this.disableButtons = false;\n      this.JobTriggerType = JobTriggerType;\n      this.periods = [];\n      this.showDetails = {};\n      this.JobProgressStates = JobProgressStates;\n      this.newSchedule = {\n        name: '',\n        config: null,\n        jobName: '',\n        trigger: {\n          type: JobTriggerType.never\n        },\n        allowParallelRun: false\n      };\n      this.onChange = value => {\n        // empty\n      };\n      this.onTouched = () => {\n        // empty\n      };\n      this.JobTriggerTypeMap = [{\n        key: JobTriggerType.after,\n        value: $localize`after`\n      }, {\n        key: JobTriggerType.never,\n        value: $localize`never`\n      }, {\n        key: JobTriggerType.periodic,\n        value: $localize`periodic`\n      }, {\n        key: JobTriggerType.scheduled,\n        value: $localize`scheduled`\n      }];\n      this.periods = [$localize`Monday`, $localize`Tuesday`, $localize`Wednesday`, $localize`Thursday`, $localize`Friday`, $localize`Saturday`, $localize`Sunday`, $localize`day`]; // 7\n    }\n\n    atTimeLocal(atTime) {\n      if (!atTime) {\n        return null;\n      }\n      const d = new Date();\n      d.setUTCHours(Math.floor(atTime / 60));\n      d.setUTCMinutes(Math.floor(atTime % 60));\n      return d;\n    }\n    ngOnInit() {\n      this.jobsService.subscribeToProgress();\n      this.jobsService.getAvailableJobs().catch(console.error);\n    }\n    ngOnDestroy() {\n      this.jobsService.unsubscribeFromProgress();\n    }\n    remove(schedule) {\n      this.schedules.splice(this.schedules.indexOf(schedule), 1);\n    }\n    jobTypeChanged(schedule) {\n      const job = this.jobsService.availableJobs.value.find(t => t.Name === schedule.jobName);\n      schedule.config = schedule.config || {};\n      if (job.ConfigTemplate) {\n        job.ConfigTemplate.forEach(ct => schedule.config[ct.id] = ct.defaultValue);\n      }\n    }\n    jobTriggerTypeChanged(triggerType, schedule) {\n      switch (triggerType) {\n        case JobTriggerType.never:\n          schedule.trigger = new NeverJobTriggerConfig();\n          break;\n        case JobTriggerType.scheduled:\n          schedule.trigger = new ScheduledJobTriggerConfig();\n          schedule.trigger.time = Date.now();\n          break;\n        case JobTriggerType.periodic:\n          schedule.trigger = new PeriodicJobTriggerConfig();\n          schedule.trigger.periodicity = 7;\n          schedule.trigger.atTime = 0;\n          break;\n        case JobTriggerType.after:\n          schedule.trigger = new AfterJobTriggerConfig();\n          if (!schedule.trigger.afterScheduleName && this.schedules.length > 1) {\n            schedule.trigger.afterScheduleName = this.schedules.find(s => s.name !== schedule.name).name;\n          }\n          break;\n      }\n    }\n    setNumberArray(configElement, id, value) {\n      value = value.replace(new RegExp(',', 'g'), ';');\n      value = value.replace(new RegExp(' ', 'g'), ';');\n      configElement[id] = value.split(';').map(s => parseInt(s, 10)).filter(i => !isNaN(i) && i > 0);\n    }\n    getNumberArray(configElement, id) {\n      return configElement[id] ? configElement[id].join('; ') : '';\n    }\n    shouldIdent(curr, prev) {\n      return curr && curr.trigger.type === JobTriggerType.after && prev && prev.name === curr.trigger.afterScheduleName;\n    }\n    sortedSchedules() {\n      return (this.schedules || []).slice().sort((a, b) => {\n        return this.getNextRunningDate(a, this.schedules) - this.getNextRunningDate(b, this.schedules);\n      });\n    }\n    prepareNewJob() {\n      const jobName = this.jobsService.availableJobs.value[0].Name;\n      this.newSchedule = new JobScheduleConfig('new job', jobName, new NeverJobTriggerConfig());\n      // setup job specific config\n      const job = this.jobsService.availableJobs.value.find(t => t.Name === jobName);\n      this.newSchedule.config = this.newSchedule.config || {};\n      if (job.ConfigTemplate) {\n        job.ConfigTemplate.forEach(ct => this.newSchedule.config[ct.id] = ct.defaultValue);\n      }\n      this.jobModalQL.first.show();\n    }\n    addNewJob() {\n      // make unique job name\n      const jobName = this.newSchedule.jobName;\n      const count = this.schedules.filter(s => s.jobName === jobName).length;\n      this.newSchedule.name = count === 0 ? jobName : this.backendTextService.getJobName(jobName) + ' ' + (count + 1);\n      this.schedules.push(this.newSchedule);\n      this.jobModalQL.first.hide();\n      this.onChange(null); // trigger change detection after adding new job\n    }\n\n    getProgress(schedule) {\n      return this.jobsService.getProgress(schedule);\n    }\n    getNextRunningDate(sch, list, depth = 0) {\n      if (depth > list.length) {\n        return 0;\n      }\n      if (sch.trigger.type === JobTriggerType.never) {\n        return list.map(s => s.name).sort().indexOf(sch.name) * -1;\n      }\n      if (sch.trigger.type === JobTriggerType.after) {\n        const parent = list.find(s => s.name === sch.trigger.afterScheduleName);\n        if (parent) {\n          return this.getNextRunningDate(parent, list, depth + 1) + 0.001;\n        }\n      }\n      const d = JobScheduleDTOUtils.getNextRunningDate(new Date(), sch);\n      return d !== null ? d.getTime() : 0;\n    }\n    validate() {\n      return null;\n    }\n    writeValue(obj) {\n      this.schedules = obj;\n    }\n    registerOnChange(fn) {\n      this.onChange = () => fn(this.schedules);\n    }\n    registerOnTouched(fn) {\n      this.onTouched = fn;\n    }\n  }\n  WorkflowComponent.ɵfac = function WorkflowComponent_Factory(t) {\n    return new (t || WorkflowComponent)(i0.ɵɵdirectiveInject(i1.SettingsService), i0.ɵɵdirectiveInject(i2.ScheduledJobsService), i0.ɵɵdirectiveInject(i3.BackendtextService));\n  };\n  WorkflowComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: WorkflowComponent,\n    selectors: [[\"app-settings-workflow\"]],\n    viewQuery: function WorkflowComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(_c0, 5);\n      }\n      if (rf & 2) {\n        let _t;\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.jobModalQL = _t);\n      }\n    },\n    features: [i0.ɵɵProvidersFeature([{\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => WorkflowComponent),\n      multi: true\n    }, {\n      provide: NG_VALIDATORS,\n      useExisting: forwardRef(() => WorkflowComponent),\n      multi: true\n    }])],\n    decls: 28,\n    vars: 8,\n    consts: function () {\n      let i18n_1;\n      if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n        /**\r\n         * @suppress {msgDescriptions}\r\n         */\n        const MSG_EXTERNAL_7336705256230956657$$SRC_FRONTEND_APP_UI_SETTINGS_WORKFLOW_WORKFLOW_COMPONENT_TS_2 = goog.getMsg(\"+ Add Job\\n\");\n        i18n_1 = MSG_EXTERNAL_7336705256230956657$$SRC_FRONTEND_APP_UI_SETTINGS_WORKFLOW_WORKFLOW_COMPONENT_TS_2;\n      } else {\n        i18n_1 = $localize`+ Add Job\n`;\n      }\n      let i18n_3;\n      if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n        /**\r\n         * @suppress {msgDescriptions}\r\n         */\n        const MSG_EXTERNAL_8500119868694688450$$SRC_FRONTEND_APP_UI_SETTINGS_WORKFLOW_WORKFLOW_COMPONENT_TS_4 = goog.getMsg(\"Add new job\");\n        i18n_3 = MSG_EXTERNAL_8500119868694688450$$SRC_FRONTEND_APP_UI_SETTINGS_WORKFLOW_WORKFLOW_COMPONENT_TS_4;\n      } else {\n        i18n_3 = $localize`Add new job`;\n      }\n      let i18n_5;\n      if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n        /**\r\n         * @suppress {msgDescriptions}\r\n         */\n        const MSG_EXTERNAL_1568624549891345118$$SRC_FRONTEND_APP_UI_SETTINGS_WORKFLOW_WORKFLOW_COMPONENT_TS_6 = goog.getMsg(\"Select a job to schedule. \");\n        i18n_5 = MSG_EXTERNAL_1568624549891345118$$SRC_FRONTEND_APP_UI_SETTINGS_WORKFLOW_WORKFLOW_COMPONENT_TS_6;\n      } else {\n        i18n_5 = $localize`Select a job to schedule. `;\n      }\n      let i18n_7;\n      if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n        /**\r\n         * @suppress {msgDescriptions}\r\n         */\n        const MSG_EXTERNAL_7819314041543176992$$SRC_FRONTEND_APP_UI_SETTINGS_WORKFLOW_WORKFLOW_COMPONENT_TS_8 = goog.getMsg(\"Close\");\n        i18n_7 = MSG_EXTERNAL_7819314041543176992$$SRC_FRONTEND_APP_UI_SETTINGS_WORKFLOW_WORKFLOW_COMPONENT_TS_8;\n      } else {\n        i18n_7 = $localize`Close`;\n      }\n      let i18n_9;\n      if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n        /**\r\n         * @suppress {msgDescriptions}\r\n         */\n        const MSG_EXTERNAL_3411486315210991134$$SRC_FRONTEND_APP_UI_SETTINGS_WORKFLOW_WORKFLOW_COMPONENT_TS_10 = goog.getMsg(\"Add Job \");\n        i18n_9 = MSG_EXTERNAL_3411486315210991134$$SRC_FRONTEND_APP_UI_SETTINGS_WORKFLOW_WORKFLOW_COMPONENT_TS_10;\n      } else {\n        i18n_9 = $localize`Add Job `;\n      }\n      let i18n_11;\n      if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n        /**\r\n         * @suppress {msgDescriptions}\r\n         */\n        const MSG_EXTERNAL_6458677044022639721$$SRC_FRONTEND_APP_UI_SETTINGS_WORKFLOW_WORKFLOW_COMPONENT_TS__12 = goog.getMsg(\"Job:\");\n        i18n_11 = MSG_EXTERNAL_6458677044022639721$$SRC_FRONTEND_APP_UI_SETTINGS_WORKFLOW_WORKFLOW_COMPONENT_TS__12;\n      } else {\n        i18n_11 = $localize`Job:`;\n      }\n      let i18n_13;\n      if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n        /**\r\n         * @suppress {msgDescriptions}\r\n         */\n        const MSG_EXTERNAL_3770273819204930148$$SRC_FRONTEND_APP_UI_SETTINGS_WORKFLOW_WORKFLOW_COMPONENT_TS__14 = goog.getMsg(\"Periodicity:\");\n        i18n_13 = MSG_EXTERNAL_3770273819204930148$$SRC_FRONTEND_APP_UI_SETTINGS_WORKFLOW_WORKFLOW_COMPONENT_TS__14;\n      } else {\n        i18n_13 = $localize`Periodicity:`;\n      }\n      let i18n_15;\n      if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n        /**\r\n         * @suppress {msgDescriptions}\r\n         */\n        const MSG_EXTERNAL_7843017012027882214$$SRC_FRONTEND_APP_UI_SETTINGS_WORKFLOW_WORKFLOW_COMPONENT_TS__16 = goog.getMsg(\"Set the time to run the job. \");\n        i18n_15 = MSG_EXTERNAL_7843017012027882214$$SRC_FRONTEND_APP_UI_SETTINGS_WORKFLOW_WORKFLOW_COMPONENT_TS__16;\n      } else {\n        i18n_15 = $localize`Set the time to run the job. `;\n      }\n      let i18n_17;\n      if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n        /**\r\n         * @suppress {msgDescriptions}\r\n         */\n        const MSG_EXTERNAL_2663284587089894626$$SRC_FRONTEND_APP_UI_SETTINGS_WORKFLOW_WORKFLOW_COMPONENT_TS__18 = goog.getMsg(\"Allow parallel run\");\n        i18n_17 = MSG_EXTERNAL_2663284587089894626$$SRC_FRONTEND_APP_UI_SETTINGS_WORKFLOW_WORKFLOW_COMPONENT_TS__18;\n      } else {\n        i18n_17 = $localize`Allow parallel run`;\n      }\n      let i18n_19;\n      if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n        /**\r\n         * @suppress {msgDescriptions}\r\n         */\n        const MSG_EXTERNAL_3955595693358081693$$SRC_FRONTEND_APP_UI_SETTINGS_WORKFLOW_WORKFLOW_COMPONENT_TS__20 = goog.getMsg(\"Enables the job to start even if another job is already running. \");\n        i18n_19 = MSG_EXTERNAL_3955595693358081693$$SRC_FRONTEND_APP_UI_SETTINGS_WORKFLOW_WORKFLOW_COMPONENT_TS__20;\n      } else {\n        i18n_19 = $localize`Enables the job to start even if another job is already running. `;\n      }\n      let i18n_21;\n      if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n        /**\r\n         * @suppress {msgDescriptions}\r\n         */\n        const MSG_EXTERNAL_8293670171001042991$$SRC_FRONTEND_APP_UI_SETTINGS_WORKFLOW_WORKFLOW_COMPONENT_TS___22 = goog.getMsg(\"every\");\n        i18n_21 = MSG_EXTERNAL_8293670171001042991$$SRC_FRONTEND_APP_UI_SETTINGS_WORKFLOW_WORKFLOW_COMPONENT_TS___22;\n      } else {\n        i18n_21 = $localize`every`;\n      }\n      let i18n_23;\n      if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n        /**\r\n         * @suppress {msgDescriptions}\r\n         */\n        const MSG_EXTERNAL_4101442988100757762$$SRC_FRONTEND_APP_UI_SETTINGS_WORKFLOW_WORKFLOW_COMPONENT_TS___24 = goog.getMsg(\"never\");\n        i18n_23 = MSG_EXTERNAL_4101442988100757762$$SRC_FRONTEND_APP_UI_SETTINGS_WORKFLOW_WORKFLOW_COMPONENT_TS___24;\n      } else {\n        i18n_23 = $localize`never`;\n      }\n      let i18n_25;\n      if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n        /**\r\n         * @suppress {msgDescriptions}\r\n         */\n        const MSG_EXTERNAL_6334092464207199213$$SRC_FRONTEND_APP_UI_SETTINGS_WORKFLOW_WORKFLOW_COMPONENT_TS___26 = goog.getMsg(\"after\");\n        i18n_25 = MSG_EXTERNAL_6334092464207199213$$SRC_FRONTEND_APP_UI_SETTINGS_WORKFLOW_WORKFLOW_COMPONENT_TS___26;\n      } else {\n        i18n_25 = $localize`after`;\n      }\n      let i18n_27;\n      if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n        /**\r\n         * @suppress {msgDescriptions}\r\n         */\n        const MSG_EXTERNAL_1598058373778280238$$SRC_FRONTEND_APP_UI_SETTINGS_WORKFLOW_WORKFLOW_COMPONENT_TS___28 = goog.getMsg(\"After:\");\n        i18n_27 = MSG_EXTERNAL_1598058373778280238$$SRC_FRONTEND_APP_UI_SETTINGS_WORKFLOW_WORKFLOW_COMPONENT_TS___28;\n      } else {\n        i18n_27 = $localize`After:`;\n      }\n      let i18n_29;\n      if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n        /**\r\n         * @suppress {msgDescriptions}\r\n         */\n        const MSG_EXTERNAL_7173161524965863677$$SRC_FRONTEND_APP_UI_SETTINGS_WORKFLOW_WORKFLOW_COMPONENT_TS___30 = goog.getMsg(\"The job will run after that job finishes. \");\n        i18n_29 = MSG_EXTERNAL_7173161524965863677$$SRC_FRONTEND_APP_UI_SETTINGS_WORKFLOW_WORKFLOW_COMPONENT_TS___30;\n      } else {\n        i18n_29 = $localize`The job will run after that job finishes. `;\n      }\n      let i18n_31;\n      if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n        /**\r\n         * @suppress {msgDescriptions}\r\n         */\n        const MSG_EXTERNAL_7479716926471212179$$SRC_FRONTEND_APP_UI_SETTINGS_WORKFLOW_WORKFLOW_COMPONENT_TS___32 = goog.getMsg(\"At:\");\n        i18n_31 = MSG_EXTERNAL_7479716926471212179$$SRC_FRONTEND_APP_UI_SETTINGS_WORKFLOW_WORKFLOW_COMPONENT_TS___32;\n      } else {\n        i18n_31 = $localize`At:`;\n      }\n      let i18n_33;\n      if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n        /**\r\n         * @suppress {msgDescriptions}\r\n         */\n        const MSG_EXTERNAL_7479716926471212179$$SRC_FRONTEND_APP_UI_SETTINGS_WORKFLOW_WORKFLOW_COMPONENT_TS___34 = goog.getMsg(\"At:\");\n        i18n_33 = MSG_EXTERNAL_7479716926471212179$$SRC_FRONTEND_APP_UI_SETTINGS_WORKFLOW_WORKFLOW_COMPONENT_TS___34;\n      } else {\n        i18n_33 = $localize`At:`;\n      }\n      let i18n_35;\n      if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n        /**\r\n         * @suppress {msgDescriptions}\r\n         */\n        const MSG_EXTERNAL_8293670171001042991$$SRC_FRONTEND_APP_UI_SETTINGS_WORKFLOW_WORKFLOW_COMPONENT_TS____36 = goog.getMsg(\"every\");\n        i18n_35 = MSG_EXTERNAL_8293670171001042991$$SRC_FRONTEND_APP_UI_SETTINGS_WORKFLOW_WORKFLOW_COMPONENT_TS____36;\n      } else {\n        i18n_35 = $localize`every`;\n      }\n      let i18n_37;\n      if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n        /**\r\n         * @suppress {msgDescriptions}\r\n         */\n        const MSG_EXTERNAL_7376832665354432793$$SRC_FRONTEND_APP_UI_SETTINGS_WORKFLOW_WORKFLOW_COMPONENT_TS_____38 = goog.getMsg(\"';' separated integers. \");\n        i18n_37 = MSG_EXTERNAL_7376832665354432793$$SRC_FRONTEND_APP_UI_SETTINGS_WORKFLOW_WORKFLOW_COMPONENT_TS_____38;\n      } else {\n        i18n_37 = $localize`';' separated integers. `;\n      }\n      return [[\"role\", \"alert\", 1, \"alert\", \"alert-danger\", 3, \"hidden\"], [4, \"ngFor\", \"ngForOf\"], [1, \"btn\", \"btn-primary\", \"float-end\", \"mt-2\", 3, \"click\"], i18n_1, [\"bsModal\", \"\", \"id\", \"jobModal\", \"tabindex\", \"-1\", \"role\", \"dialog\", \"aria-labelledby\", \"jobModalLabel\", 1, \"modal\", \"fade\"], [\"jobModal\", \"bs-modal\"], [\"role\", \"document\", 1, \"modal-dialog\"], [1, \"modal-content\"], [1, \"modal-header\"], [\"id\", \"jobModalLabel\", 1, \"modal-title\"], i18n_3, [\"type\", \"button\", \"data-dismiss\", \"modal\", \"aria-label\", \"Close\", 1, \"btn-close\", 3, \"click\"], [\"jobModalForm\", \"ngForm\"], [1, \"modal-body\"], [\"name\", \"newJobName\", \"required\", \"\", 1, \"form-select\", 3, \"ngModel\", \"change\", \"ngModelChange\"], [3, \"ngValue\", 4, \"ngFor\", \"ngForOf\"], [1, \"form-text\", \"text-muted\"], i18n_5, [1, \"modal-footer\"], [\"type\", \"button\", 1, \"btn\", \"btn-secondary\", 3, \"click\"], i18n_7, [\"type\", \"button\", \"data-dismiss\", \"modal\", 1, \"btn\", \"btn-primary\", 3, \"disabled\", \"click\"], i18n_9, [1, \"card-header\"], [1, \"d-flex\", \"justify-content-between\"], [3, \"click\"], [3, \"ngSwitch\"], [4, \"ngSwitchCase\"], [\"class\", \"badge bg-secondary\", 4, \"ngSwitchCase\"], [1, \"btn\", \"btn-danger\", \"ms-0\", 3, \"click\"], [1, \"oi\", \"oi-trash\"], [1, \"ms-md-2\", \"mt-2\", \"mt-md-0\", 3, \"allowParallelRun\", \"jobName\", \"config\", \"shortName\", \"jobError\"], [1, \"card-body\", 3, \"hidden\"], [1, \"row\"], [1, \"col-md-12\"], [1, \"mb-1\", \"row\"], [1, \"col-md-2\", \"control-label\", 3, \"for\"], i18n_11, [1, \"col-md-4\"], [1, \"col-md-6\"], [1, \"float-end\", 3, \"jobName\", \"allowParallelRun\", \"config\", \"jobError\"], i18n_13, [1, \"col-md-10\"], [\"required\", \"\", 1, \"form-select\", 3, \"ngModel\", \"name\", \"ngModelChange\"], i18n_15, [\"class\", \"mb-3 row\", 4, \"ngIf\"], [1, \"mb-3\", \"row\"], i18n_17, [1, \"input-group\"], [1, \"form-check\", \"form-switch\", \"fs-5\"], [\"type\", \"checkbox\", \"role\", \"switch\", 1, \"form-check-input\", 3, \"name\", \"id\", \"ngModel\", \"ngModelChange\"], i18n_19, [4, \"ngIf\"], [\"class\", \"card-footer bg-transparent\", 3, \"progress\", 4, \"ngIf\"], [1, \"badge\", \"bg-primary\"], i18n_21, [1, \"badge\", \"bg-secondary\"], i18n_23, i18n_25, [3, \"ngValue\"], i18n_27, i18n_29, [3, \"ngValue\", 4, \"ngIf\"], i18n_31, [3, \"name\", \"timestamp\", \"timestampChange\"], i18n_33, i18n_35, [\"class\", \"form-check form-switch  fs-5\", 4, \"ngSwitchCase\"], [\"type\", \"text\", \"required\", \"\", 1, \"form-control\", 3, \"name\", \"id\", \"ngModel\", \"ngModelChange\"], [\"type\", \"number\", \"required\", \"\", 1, \"form-control\", 3, \"name\", \"id\", \"ngModel\", \"ngModelChange\"], i18n_37, [1, \"card-footer\", \"bg-transparent\", 3, \"progress\"]];\n    },\n    template: function WorkflowComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        const _r94 = i0.ɵɵgetCurrentView();\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"strong\");\n        i0.ɵɵtext(2, \"Error: \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(3);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(4, WorkflowComponent_div_4_Template, 48, 35, \"div\", 1);\n        i0.ɵɵelementStart(5, \"button\", 2);\n        i0.ɵɵlistener(\"click\", function WorkflowComponent_Template_button_click_5_listener() {\n          return ctx.prepareNewJob();\n        });\n        i0.ɵɵi18n(6, 3);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(7, \"div\", 4, 5)(9, \"div\", 6)(10, \"div\", 7)(11, \"div\", 8)(12, \"h5\", 9);\n        i0.ɵɵi18n(13, 10);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(14, \"button\", 11);\n        i0.ɵɵlistener(\"click\", function WorkflowComponent_Template_button_click_14_listener() {\n          i0.ɵɵrestoreView(_r94);\n          const _r1 = i0.ɵɵreference(8);\n          return i0.ɵɵresetView(_r1.hide());\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(15, \"form\", null, 12)(17, \"div\", 13)(18, \"select\", 14);\n        i0.ɵɵlistener(\"change\", function WorkflowComponent_Template_select_change_18_listener() {\n          return ctx.jobTypeChanged(ctx.newSchedule);\n        })(\"ngModelChange\", function WorkflowComponent_Template_select_ngModelChange_18_listener($event) {\n          return ctx.newSchedule.jobName = $event;\n        });\n        i0.ɵɵtemplate(19, WorkflowComponent_option_19_Template, 2, 2, \"option\", 15);\n        i0.ɵɵpipe(20, \"async\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(21, \"small\", 16);\n        i0.ɵɵi18n(22, 17);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(23, \"div\", 18)(24, \"button\", 19);\n        i0.ɵɵlistener(\"click\", function WorkflowComponent_Template_button_click_24_listener() {\n          i0.ɵɵrestoreView(_r94);\n          const _r1 = i0.ɵɵreference(8);\n          return i0.ɵɵresetView(_r1.hide());\n        });\n        i0.ɵɵi18n(25, 20);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(26, \"button\", 21);\n        i0.ɵɵlistener(\"click\", function WorkflowComponent_Template_button_click_26_listener() {\n          return ctx.addNewJob();\n        });\n        i0.ɵɵi18n(27, 22);\n        i0.ɵɵelementEnd()()()()()();\n      }\n      if (rf & 2) {\n        const _r2 = i0.ɵɵreference(16);\n        i0.ɵɵproperty(\"hidden\", !ctx.error);\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate(ctx.error);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngForOf\", ctx.sortedSchedules());\n        i0.ɵɵadvance(14);\n        i0.ɵɵproperty(\"ngModel\", ctx.newSchedule.jobName);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(20, 6, ctx.jobsService.availableJobs));\n        i0.ɵɵadvance(7);\n        i0.ɵɵproperty(\"disabled\", !_r2.form.valid);\n      }\n    },\n    dependencies: [i4.NgForOf, i4.NgIf, i4.NgSwitch, i4.NgSwitchCase, i5.ɵNgNoValidate, i5.NgSelectOption, i5.ɵNgSelectMultipleOption, i5.DefaultValueAccessor, i5.NumberValueAccessor, i5.CheckboxControlValueAccessor, i5.SelectControlValueAccessor, i5.NgControlStatus, i5.NgControlStatusGroup, i5.RequiredValidator, i5.NgModel, i5.NgForm, i6.ModalDirective, i7.TimeStampDatePickerComponent, i8.TimeStampTimePickerComponent, i9.JobProgressComponent, i10.JobButtonComponent, i4.AsyncPipe, i4.DatePipe]\n  });\n  return WorkflowComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}